= VoluMod

image:https://img.shields.io/badge/License-MPL_2.0-blue.svg[MPL-2.0,link="https://opensource.org/licenses/MPL-2.0"]
image:https://img.shields.io/badge/Philosophy-Palimpsest-purple.svg[Palimpsest,link="https://github.com/hyperpolymath/palimpsest-license"]


:toc: left
:toclevels: 3
:icons: font
:source-highlighter: highlight.js

== A User-Friendly, Cross-Platform Tool for Autonomous Audio Volume and Clarity Optimization

VoluMod automatically optimizes audio volume and clarity in real-time for non-technical users across browsers and system tray applications.

image::docs/images/volumod-banner.png[VoluMod Banner,width=100%]

=== Features

==== Core Audio Processing
* **Real-time Volume Normalization** - EBU R128 / LUFS-based loudness normalization
* **Dynamic Range Compression** - Adaptive compression with configurable modes
* **Perceptual Noise Reduction** - AI-ready noise floor detection and reduction
* **Graphic Equalization** - 10-band EQ with adaptive presets
* **Brick-wall Limiting** - Protection against clipping

==== Contextual Adaptation
* **Time-of-Day Profiles** - Automatic adjustment based on time (quieter at night)
* **Device Detection** - Optimized settings for headphones, speakers, etc.
* **Environment Awareness** - Adapts to ambient noise levels (optional microphone input)

==== User Experience
* **Zero-Learning-Curve Interface** - Simple, intuitive design for all ages
* **One-Click Bypass** - Instantly disable all processing
* **WCAG Compliant** - Full accessibility support including screen readers
* **Keyboard Navigation** - Complete keyboard shortcut support

=== Installation

==== System Application

[source,bash]
----
# Clone the repository
git clone https://github.com/hyperpolymath/volumod.git
cd volumod

# Build with V
v -prod src/main.v -o volumod

# Run
./volumod
----

==== Browser Extension

[source,bash]
----
# Build ReScript components
cd browser/rescript
npm install
npm run build

# Load extension in browser
# Chrome: chrome://extensions â†’ Load unpacked â†’ select browser/
# Firefox: about:debugging â†’ Load Temporary Add-on â†’ select browser/manifest.json
----

=== Architecture

[source]
----
volumod/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ core/              # Core audio types and DSP utilities
â”‚   â”‚   â”œâ”€â”€ audio_buffer.v
â”‚   â”‚   â””â”€â”€ dsp_utils.v
â”‚   â”œâ”€â”€ processors/        # Audio processing modules
â”‚   â”‚   â”œâ”€â”€ normalizer.v   # Loudness normalization
â”‚   â”‚   â”œâ”€â”€ compressor.v   # Dynamic range compression
â”‚   â”‚   â”œâ”€â”€ noise_reducer.v # Noise reduction
â”‚   â”‚   â””â”€â”€ equalizer.v    # Graphic/parametric EQ
â”‚   â”œâ”€â”€ engine/            # Processing engine
â”‚   â”‚   â”œâ”€â”€ processor.v    # Main audio processor chain
â”‚   â”‚   â””â”€â”€ context.v      # Contextual adaptation
â”‚   â”œâ”€â”€ platform/          # Platform-specific audio capture
â”‚   â”‚   â””â”€â”€ audio_capture.v
â”‚   â”œâ”€â”€ ffi/               # Cross-language interop (Bebop)
â”‚   â”‚   â”œâ”€â”€ bebop_types.v
â”‚   â”‚   â””â”€â”€ bebop_bridge.v
â”‚   â”œâ”€â”€ ui/                # User interface
â”‚   â”‚   â”œâ”€â”€ tray.v         # System tray
â”‚   â”‚   â””â”€â”€ accessibility.v # WCAG compliance
â”‚   â””â”€â”€ main.v             # Application entry point
â”œâ”€â”€ browser/               # Browser extension
â”‚   â”œâ”€â”€ manifest.json
â”‚   â”œâ”€â”€ background.js
â”‚   â”œâ”€â”€ content.js
â”‚   â”œâ”€â”€ popup/
â”‚   â””â”€â”€ rescript/          # ReScript audio processor
â””â”€â”€ v.mod                  # V module definition
----

=== Technical Stack

[cols="1,3"]
|===
| Component | Technology

| Core Audio Processing
| V language (memory-safe, high-performance)

| Cross-Platform IPC
| Bebop (serialization/interop framework)

| Browser Extension
| ReScript â†’ JavaScript (Web Audio API)

| Audio Capture
| PortAudio / WASAPI / CoreAudio / ALSA

| UI Framework
| V UI (cross-platform native)
|===

=== Audio Processing Pipeline

[source]
----
Input Audio
    â”‚
    â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Noise Reduction â”‚ â† Clean up source audio
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Normalization  â”‚ â† Achieve consistent loudness (-14 LUFS default)
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Compression    â”‚ â† Control dynamic range
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Equalization   â”‚ â† Shape frequency response
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚    Limiting     â”‚ â† Protect output from clipping
â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜
         â”‚
         â–¼
    Output Audio
----

=== Presets

[cols="1,2,1,1"]
|===
| Preset | Description | Target LUFS | Compression

| Auto
| Balanced for general content
| -14
| Moderate

| Speech
| Optimized for podcasts/calls
| -16
| Light

| Music
| Preserves dynamics
| -14
| Light

| Night Mode
| Quieter, compressed for low volume
| -20
| Aggressive

| Hearing Assistance
| Boosted clarity, enhanced speech
| -12
| Moderate
|===

=== Accessibility

VoluMod is designed to be accessible to all users:

* **Screen Reader Support** - Full ARIA labels and live regions
* **Keyboard Navigation** - All features accessible via keyboard
* **High Contrast Mode** - Respects system preferences
* **Reduced Motion** - Respects prefers-reduced-motion
* **Hearing Loop Integration** - Telecoil/T-coil support planned

==== Keyboard Shortcuts

[cols="1,2"]
|===
| Shortcut | Action

| Ctrl+Shift+B
| Toggle bypass

| Ctrl+Shift+N
| Start noise learning

| Ctrl+Shift+Up
| Increase target loudness

| Ctrl+Shift+Down
| Decrease target loudness

| F1
| Open help
|===

=== Privacy

* **100% On-Device Processing** - No audio data leaves your device
* **No Analytics** - No usage tracking or telemetry
* **Optional Microphone** - Ambient noise detection is opt-in
* **Local Storage Only** - Settings stored locally

=== Development

==== Building from Source

[source,bash]
----
# Prerequisites
# - V compiler: https://vlang.io
# - Node.js (for browser extension)

# Clone
git clone https://github.com/hyperpolymath/volumod.git
cd volumod

# Build V application
v -prod src/main.v -o volumod

# Build browser extension
cd browser/rescript
npm install
npm run build
----

==== Running Tests

[source,bash]
----
v test src/
----

=== Roadmap

[cols="1,2,1"]
|===
| Phase | Features | Status

| MVP
| Core normalization, compression, bypass, basic UI
| âœ… Complete

| Phase 2
| Noise reduction, EQ, contextual adaptation
| âœ… Complete

| Phase 3
| Browser extension, accessibility features
| âœ… Complete

| Phase 4
| Advanced noise reduction (ML), hearing loop integration
| ğŸ”„ Planned
|===

=== License

MIT License - See LICENSE file for details.

=== Contributing

Contributions are welcome! Please read CONTRIBUTING.md for guidelines.

=== Acknowledgments

* V Language: https://vlang.io
* Bebop: https://github.com/betwixt-labs/bebop
* ReScript: https://rescript-lang.org
* Web Audio API: https://developer.mozilla.org/en-US/docs/Web/API/Web_Audio_API
